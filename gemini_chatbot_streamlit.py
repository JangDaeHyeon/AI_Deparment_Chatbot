#!/usr/bin/env python 
# coding: utf-8

# In[1]:

import os
import streamlit as st
import google.generativeai as genai


# GenerativeAI API 키 설정
API_KEY = os.getenv('GOOGLE_GEMINI_API_KEY')
genai.configure(api_key=API_KEY)

# Streamlit 앱 타이틀 설정
st.title("전주대학교 인공지능 학과 챗봇")

# FAQ 데이터: 전주대학교 인공지능 학과 정보
faq_data = {
    "설립일": "전주대학교 인공지능 학과는 2021년에 설립되었습니다.",
    "재학생 비율": "2024년 기준으로 남성 79%, 여성 21%의 비율로 재학생이 구성되어 있습니다.",
    "학과의 장점": """학과의 주요 장점으로는 전북권 유일의 첨단분야 혁신융합대학사업(AI 분야) 선정 대학으로 장학금과 해외 연수 등 다양한 혜택을 제공한다는 점이 있습니다.
    또한 AI 및 그 응용을 체계적이고 쉽게 배울 수 있도록 최적의 교육환경과 교육과정을 구성하고 있습니다.""",
    "학과와 어울리는 사람": """전주대학교 인공지능 학과는 첨단기술에 흥미가 있고, 창의성, 커뮤니케이션 능력이 있으며, 도전정신과 긍정적인 사고를 갖춘 사람에게 적합합니다.""",
    "도움이 되는 고등학교 과목": """인공지능 학과에서 배우는 과목 이수를 위해 도움이 되는 고등학교 과목으로는 정보, 인공지능 기초, 정보통신 전과목, 공학일반, 논리학, 생활과 창의성이 있습니다.""",
    "학과 관련 추천 도서": """1. 십대가 알아야 할 인공지능과 4차 산업혁명의 미래 / 전승민 / 팜파스
    2. 인공지능의 현재와 미래 / 나는 미래다 방송제작팀 / 보아스
    3. 시간순삭 인공지능 with 스크래치 / 이재우 / 생능출판사""",
    "진출분야": """데이터과학자, 인공지능개발자, 로봇공학자, 정부부처 및 공공기관, 연구소 및 교육기관 등 다양한 분야로 진출할 수 있습니다.""",
    "주요 직무": """데이터과학자 - 빅데이터 처리 및 분석
    인공지능개발자 - AI 응용 서비스 개발
    로봇공학자 - AI 기반 로봇 서비스 개발
    정부부처 및 공공기관 - AI 정책, 기술, 기획
    연구소 및 교육기관 - AI 핵심기술 개발 연구""",
    "주요 필요 기술 및 자격증": """데이터과학자 - 데이터분석기초, 빅데이터분석기사, 데이터분석전문가(ADP)
    인공지능개발자 - 기계학습, 딥러닝, 구글/AWS/IBM AI 공인 개발자 인증서
    로봇공학자 - 로봇프로그래밍, 드론, IoT, 임베디드 SW 개발 전문가(ESDP)
    정부부처 및 공공기관 - 기계학습, 딥러닝, 데이터분석전문가(ADP), 정보처리기사
    연구소 및 교육기관 - 기계학습, 딥러닝, 대학원 연계""",
    "주요 취업처": """데이터과학자 - 바이브컴패니
    인공지능개발자 - 네이버, 카카오
    로봇공학자 - 현대자동차, 로보티즈
    정부부처 및 공공기관 - 국민연금공단
    연구소 및 교육기관 - 한국전자기술연구원""",
    "학과 교류 기업 및 교류방식": """네이버 - 인턴십, 현장 교육, 기업탐방 (대상 학년: 전 학년)
    카카오 - 인턴십, 현장 교육, 기업탐방 (대상 학년: 전 학년)
    SKT - 고용연계, 인턴십, 기업탐방, 프로젝트 수행 (대상 학년: 3~4학년)
    한국전자기술연구원 - 고용연계, 인턴십, 현장 교육, 기업탐방, 프로젝트 수행, 학점인정, 공사 재직자 출강 (대상 학년: 3~4학년)
    농촌진흥청 - 고용연계, 인턴십, 현장 교육, 기업탐방, 프로젝트 수행, 학점인정, 공사 재직자 출강 (대상 학년: 3~4학년)""",
    "교환학생 교류 프로그램": """중국 북경의대 - 신청 시기: 11월, 기간: 1~2월, 지원금: 인당 3백만원, 대상 학년: 4학년
    캐나다 토론토대학 - 신청 시기: 5월, 기간: 7~8월, 지원금: 인당 8백만원, 대상 학년: 3학년
    말레이시아 기술대학(UTM) - 신청 시기: 3월, 기간: 5~7월, 지원금: 인당 5백만원, 대상 학년: 2학년""",
    "학과 내 운영 동아리": """아이어즈 - 학기 중 운영, 활동 내용: AI 알고리즘 연구, 참여 학년: 전 학년""",
    "학과 행사": """해외 AI프로젝트 교육과정: 일시 - 1~2월, 장소 - 중국 북경의대 (AI학과), 내용 - 중국 북경의대 교수들이 진행하는 의료 분야 AI 프로젝트 중심 교육과정
    AI Hands On Steps: 일시 - 학기 중, 장소 - 정부기관/산업체/코엑스, 벡스코, 내용 - AI 관련 공공기관, 산업체 및 대규모 전시회 관람 및 체험
    해외 AI·영어연수: 일시 - 7~8월, 장소 - 말레이시아 기술대학 (UTM), 내용 - UTM 교수들로부터 영어 및 AI 교육과정 입과
    해외 AI 선도대학 교육과정: 일시 - 7~8월, 장소 - 캐나다 토론토대학, 내용 - 토론토대학 교수들이 진행하는 AI 단기 교육과정""",
    "학과 인재상": "4차 산업혁명 시대에 필요한 ICT 전문지식과 응용능력을 보유한 창의적인 AI 전문인재",
    "핵심역량": "AI 전문지식을 바탕으로 창의적 문제 해결 능력, 소통 및 공감 능력 및 현장 실무능력"
}

# 세션 상태 초기화
if "messages" not in st.session_state:
    st.session_state.messages = []

# 대화 메시지 표시
for message in st.session_state.messages:
    with st.chat_message(message["role"]):
        st.markdown(message["content"])

# Generative AI로 질문 응답 처리
def ask_question_with_context(question):
    context = "\n".join([f"{key}: {value}" for key, value in faq_data.items()])
    prompt = f"{context}\n\n질문: {question}"
    response = genai.GenerativeModel("gemini-1.5-flash").generate_content(prompt)
    return response.text

# 질문 입력 및 응답 생성
if prompt := st.chat_input("전주대학교 인공지능 학과에 대해 궁금한 것을 입력하세요:"):
    # 사용자 메시지를 세션 상태에 추가
    st.session_state.messages.append({"role": "user", "content": prompt})
    with st.chat_message("user"):
        st.markdown(prompt)

    # 모델 응답 생성
    answer = ask_question_with_context(prompt)
    with st.chat_message("assistant"):
        st.markdown(answer)

    # 챗봇 응답을 세션 상태에 추가
    st.session_state.messages.append({"role": "assistant", "content": answer})


# In[ ]:




